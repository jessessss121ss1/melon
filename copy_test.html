<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤åˆ¶åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-box { background: #f8f9fa; border: 2px solid #e9ecef; border-radius: 8px; padding: 16px; margin: 10px 0; }
        .copy-btn { background: #28a745; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; margin-left: 10px; }
        .copy-btn:hover { background: #218838; }
    </style>
</head>
<body>
    <h1>å¤åˆ¶åŠŸèƒ½æµ‹è¯•</h1>
    
    <h3>æµ‹è¯•1: çŸ­æ–‡æœ¬</h3>
    <div id="test1" class="test-box">è¿™æ˜¯ä¸€æ®µçŸ­æµ‹è¯•æ–‡æœ¬</div>
    <button class="copy-btn" onclick="copyToClipboard('test1', this)">å¤åˆ¶</button>
    
    <h3>æµ‹è¯•2: é•¿æ–‡æœ¬</h3>
    <div id="test2" class="test-box">ğŸ”¥ é™æ—¶ç‰¹æƒ ï¼æ™ºèƒ½æ‰‹è¡¨æ–°å“ä¸Šå¸‚ï¼Œå¥åº·ç”Ÿæ´»ä»æ­¤å¼€å§‹ï¼

ğŸŒŸ æ ¸å¿ƒå–ç‚¹ï¼š
1. 24å°æ—¶å¿ƒç‡ç›‘æµ‹ï¼Œç²¾å‡†æŒæ¡å¥åº·çŠ¶å†µ
2. å¤šç§è¿åŠ¨æ¨¡å¼è®°å½•ï¼ŒåŠ©åŠ›ç§‘å­¦é”»ç‚¼
3. è¶…é•¿ç»­èˆªï¼Œä¸€æ¬¡å……ç”µä½¿ç”¨7å¤©

ğŸ¯ ä½¿ç”¨åœºæ™¯ï¼š
1. è¿åŠ¨å¥èº«æ—¶å®æ—¶ç›‘æµ‹å¿ƒç‡å˜åŒ–
2. æ—¥å¸¸ä½©æˆ´è®°å½•æ­¥æ•°å’Œå¡è·¯é‡Œæ¶ˆè€—
3. ç¡çœ æ—¶ç›‘æµ‹ç¡çœ è´¨é‡</div>
    <button class="copy-btn" onclick="copyToClipboard('test2', this)">å¤åˆ¶</button>
    
    <h3>æµ‹è¯•3: ç©ºå†…å®¹</h3>
    <div id="test3" class="test-box"></div>
    <button class="copy-btn" onclick="copyToClipboard('test3', this)">å¤åˆ¶</button>
    
    <script>
        // å¤åˆ¶åˆ°å‰ªè´´æ¿åŠŸèƒ½
        function copyToClipboard(elementId, buttonElement) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            if (!text.trim()) {
                alert('æ²¡æœ‰å†…å®¹å¯å¤åˆ¶');
                return;
            }

            // è·å–æŒ‰é’®å…ƒç´ 
            const button = buttonElement || event.target;
            const originalText = button.textContent;
            
            // å…ˆå°è¯•ç°ä»£çš„ Clipboard API
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(() => {
                    showCopySuccess(button, originalText);
                }).catch(err => {
                    console.error('Clipboard API å¤±è´¥:', err);
                    // é™çº§åˆ°ä¼ ç»Ÿæ–¹æ³•
                    fallbackCopyToClipboard(text, button, originalText);
                });
            } else {
                // é™çº§åˆ°ä¼ ç»Ÿæ–¹æ³•
                fallbackCopyToClipboard(text, button, originalText);
            }
        }

        // ä¼ ç»Ÿå¤åˆ¶æ–¹æ³•ï¼ˆå…¼å®¹æ€§æ›´å¥½ï¼‰
        function fallbackCopyToClipboard(text, button, originalText) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showCopySuccess(button, originalText);
                } else {
                    showCopyError();
                }
            } catch (err) {
                console.error('ä¼ ç»Ÿå¤åˆ¶æ–¹æ³•ä¹Ÿå¤±è´¥:', err);
                showCopyError();
            } finally {
                document.body.removeChild(textArea);
            }
        }

        // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸ
        function showCopySuccess(button, originalText) {
            button.textContent = 'å·²å¤åˆ¶!';
            button.style.backgroundColor = '#4CAF50';
            button.style.color = 'white';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.backgroundColor = '';
                button.style.color = '';
            }, 2000);
        }

        // æ˜¾ç¤ºå¤åˆ¶é”™è¯¯
        function showCopyError() {
            alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬å¤åˆ¶');
        }
    </script>
</body>
</html>